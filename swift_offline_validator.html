<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SWIFT/BIC Offline Validator</title>
  <style>
    body {
      background: #f4f7fa;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      background: #fff;
      padding: 2rem 2.5rem 2rem 2.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 24px rgba(0,0,0,0.12);
      min-width: 340px;
      text-align: center;
    }
    h2 {
      margin-bottom: 1.2rem;
      color: #2c5aa0;
    }
    input[type="text"] {
      width: 85%;
      padding: 0.6rem;
      margin-bottom: 1rem;
      border: 1px solid #b0c4de;
      border-radius: 5px;
      font-size: 1.1rem;
      outline: none;
      transition: border 0.3s;
      text-transform: uppercase;
    }
    input[type="text"]:focus {
      border: 1.5px solid #2c5aa0;
    }
    button {
      background: #2c5aa0;
      color: #fff;
      border: none;
      padding: 0.6rem 1.2rem;
      border-radius: 5px;
      font-size: 1.05rem;
      cursor: pointer;
      transition: background-color 0.2s;
    }
    button:hover {
      background: #1e3f73;
    }
    .status {
      margin-top: 1.1rem;
      font-size: 1.08rem;
      font-weight: 500;
    }
    .success {
      color: #1aa260;
    }
    .error {
      color: #d93025;
    }
    .info {
      margin-top: 0.8rem;
      font-size: 0.9rem;
      color: #666;
      text-align: left;
    }
    .format-info {
      background: #f8f9fa;
      padding: 0.8rem;
      border-radius: 5px;
      margin-top: 1rem;
      font-size: 0.85rem;
      color: #555;
      text-align: left;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>SWIFT/BIC Offline Validator</h2>
    <form id="swiftForm" autocomplete="off">
      <input type="text" id="swiftInput" placeholder="Enter SWIFT/BIC Code" autofocus maxlength="11">
      <br>
      <button type="submit">Validate</button>
    </form>
    <div id="result" class="status"></div>
    <div id="info" class="info"></div>
    
    <div class="format-info">
      <strong>SWIFT/BIC Code Format:</strong><br>
      • Bank Code: 4 letters (e.g., DEUT)<br>
      • Country Code: 2 letters (e.g., DE)<br>
      • Location Code: 2 characters (letters/digits)<br>
      • Branch Code: 3 characters (optional, letters/digits)<br>
      <strong>Example:</strong> DEUTDEFF500
    </div>
  </div>
  <script>
    // Sample SWIFT/BIC codes database (in a real implementation, this would be much larger)
    const swiftCodes = {
      'DEUT': {
        'DE': {
          'FF': ['500', '501', '502'],
          'HH': ['200', '201']
        }
      },
      'COBA': {
        'DE': {
          'FF': ['XXX']
        }
      },
      'CHAS': {
        'US': {
          '33': ['XXX'],
          'NY': ['XXX']
        }
      },
      'HSBC': {
        'GB': {
          'L2': ['XXX'],
          'AB': ['XXX']
        }
      },
      'UBSW': {
        'CH': {
          'ZH': ['XXX']
        }
      }
    };

    function validateSWIFT(swift) {
      // Remove spaces and convert to uppercase
      swift = swift.replace(/\s+/g, '').toUpperCase();
      
      // Basic format check: 8 or 11 characters
      if (swift.length !== 8 && swift.length !== 11) {
        return { valid: false, error: 'SWIFT code must be 8 or 11 characters long' };
      }
      
      // Format validation: AAAA-BB-CC-DDD (where DDD is optional)
      const swiftRegex = /^[A-Z]{4}[A-Z]{2}[A-Z0-9]{2}([A-Z0-9]{3})?$/;
      if (!swiftRegex.test(swift)) {
        return { valid: false, error: 'Invalid SWIFT code format' };
      }
      
      // Extract components
      const bankCode = swift.substring(0, 4);
      const countryCode = swift.substring(4, 6);
      const locationCode = swift.substring(6, 8);
      const branchCode = swift.length === 11 ? swift.substring(8, 11) : 'XXX';
      
      // Check if code exists in database
      if (swiftCodes[bankCode] && 
          swiftCodes[bankCode][countryCode] && 
          swiftCodes[bankCode][countryCode][locationCode] &&
          swiftCodes[bankCode][countryCode][locationCode].includes(branchCode)) {
        return { 
          valid: true, 
          details: {
            bankCode,
            countryCode,
            locationCode,
            branchCode: branchCode === 'XXX' ? 'Main Branch' : branchCode
          }
        };
      }
      
      // Additional validation: Check country code validity (basic check)
      const validCountryCodes = ['DE', 'US', 'GB', 'CH', 'FR', 'IT', 'ES', 'NL', 'BE', 'AT', 'SE', 'NO', 'DK', 'FI'];
      if (!validCountryCodes.includes(countryCode)) {
        return { valid: false, error: 'Invalid or unsupported country code' };
      }
      
      return { valid: false, error: 'SWIFT code not found in database' };
    }

    document.getElementById('swiftForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const swift = document.getElementById('swiftInput').value;
      const result = document.getElementById('result');
      const info = document.getElementById('info');
      
      const validation = validateSWIFT(swift);
      
      if (validation.valid) {
        result.textContent = 'Valid SWIFT/BIC Code ✅';
        result.className = 'status success';
        info.innerHTML = `
          <strong>Code Details:</strong><br>
          Bank: ${validation.details.bankCode}<br>
          Country: ${validation.details.countryCode}<br>
          Location: ${validation.details.locationCode}<br>
          Branch: ${validation.details.branchCode}
        `;
        info.className = 'info success';
      } else {
        result.textContent = 'Invalid SWIFT/BIC Code ❌';
        result.className = 'status error';
        info.textContent = validation.error;
        info.className = 'info error';
      }
    });

    // Auto-format input as user types
    document.getElementById('swiftInput').addEventListener('input', function(e) {
      let value = e.target.value.toUpperCase().replace(/[^A-Z0-9]/g, '');
      if (value.length > 11) {
        value = value.substring(0, 11);
      }
      e.target.value = value;
    });
  </script>
</body>
</html>
